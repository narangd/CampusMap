<!DOCTYPE html>
<html lang="kr">

<head>
  <meta charset="UTF-8">
  <title>캠퍼스맵</title>
  <style>
    img {
    display: inline;
    height: auto;
    max-width: 100%;
    position: absolute;
    }

    body {
    margin: 0px;
    }
    div#svg {
    opacity: 0;
    }
    div {
    position: absolute;
    background-color: black;
    opacity: 0.5;
    }

    svg {
    position: absolute;
    width: 715px;
    height: 534px;
    }

    ellipse {
    fill: black;
    stroke: none;
    fill-opacity: 0.5;
    }
  </style>
</head>

<body>
<!-- x:715  y:534 -->
<img id="img" src="../drawable/campus_map.jpg" alt="학교이미지" />
<!--
  <svg id='svg' xmlns="http://www.w3.org/2000/svg" height="100%" preserveAspectRatio="xMidYMid meet" version="1.1" viewBox="0 0 3288 2188" xmlns:xlink="http://www.w3.org/1999/xlink">
  </svg>
-->
<div id="svg"></div>
<script>
    var building_locations = [
      {'id':1 , 'left':64, 'top':59, 'right':79, 'bottom':75},
      {'id':2 , 'left':50, 'top':49, 'right':62, 'bottom':59},
      {'id':3 , 'left':67, 'top':42, 'right':73, 'bottom':47},
      {'id':4 , 'left':49, 'top':37, 'right':59, 'bottom':46},
      {'id':5 , 'left':60, 'top':31, 'right':72, 'bottom':38},
      {'id':6 , 'left':65, 'top':21, 'right':71, 'bottom':26},
      {'id':7 , 'left':57, 'top':24, 'right':63, 'bottom':29},
      {'id':8 , 'left':50, 'top':24, 'right':57, 'bottom':29},
      {'id':9 , 'left':57, 'top':19, 'right':63, 'bottom':24},
      {'id':10, 'left':63, 'top':13, 'right':69, 'bottom':19},
      {'id':11, 'left':50, 'top':19, 'right':57, 'bottom':24},
      {'id':12, 'left':58, 'top': 4, 'right':65, 'bottom':13},
      {'id':13, 'left':49, 'top':13, 'right':58, 'bottom':19},
      {'id':14, 'left':46, 'top': 7, 'right':58, 'bottom':13},
      {'id':15, 'left':39, 'top':30, 'right':52, 'bottom':36},
      {'id':16, 'left':33, 'top':21, 'right':39, 'bottom':36},
      {'id':17, 'left':24, 'top':30, 'right':33, 'bottom':36},
      {'id':18, 'left':18, 'top':28, 'right':24, 'bottom':40},
      {'id':19, 'left':12, 'top':31, 'right':18, 'bottom':40},
      {'id':20, 'left': 7, 'top':40, 'right':18, 'bottom':48},
      {'id':21, 'left':32, 'top':38, 'right':42, 'bottom':47},
      {'id':22, 'left':30, 'top':49, 'right':42, 'bottom':59},
      {'id':23, 'left':18, 'top':48, 'right':30, 'bottom':55},
      {'id':24, 'left': 2, 'top':48, 'right':12, 'bottom':52},
      {'id':25, 'left': 2, 'top':52, 'right':12, 'bottom':56},
      {'id':26, 'left': 1, 'top':56, 'right':10, 'bottom':60},
      {'id':27, 'left':15, 'top':55, 'right':27, 'bottom':63}
    ];
    var svgns = "http://www.w3.org/2000/svg";
    var svg = document.getElementById('svg');
    var img = document.getElementById('img');

    for (var i = 0; i < building_locations.length; i++) {
      var item = building_locations[i];
      var a = document.createElement('a');
      a.setAttributeNS(null, 'href', 'buildingto:' + item.id);
      {
        // <rect width="300" height="100" />
//        var rect = document.createElementNS(svgns, 'div');
//        rect.setAttributeNS(null, 'class', 'box');
//        rect.setAttributeNS(null, 'x', item.left + '%');
//        rect.setAttributeNS(null, 'y', item.top + '%');
//        rect.setAttributeNS(null, 'width', (item.right - item.left) + '%');
//        rect.setAttributeNS(null, 'height', (item.bottom - item.top) + '%');
        var rect = document.createElement('div');
        rect.style.left = item.left + '%';
        rect.style.top = item.top + '%';
        rect.style.width = (item.right - item.left) + '%';
        rect.style.height = (item.bottom - item.top) + '%';
        a.appendChild(rect);
      }
      svg.appendChild(a);
    }

    document.body.onload = function () {
      svg.style.width = img.width + 'px';
      svg.style.height = img.height + 'px';
      svg.setAttribute('viewBox', '0 0 ' + img.width + ' ' + img.height);
    }
  </script>
</body>

</html>